<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="The WebAnno Team">
<title>WebAnno User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>WebAnno User Guide</h1>
<div class="details">
<span id="author" class="author">The WebAnno Team</span><br>
<span id="revnumber">version 3.3.3</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_system_requirements">System Requirements</a></li>
<li><a href="#_workflow">Workflow</a></li>
<li><a href="#sect_installation">Installation</a>
<ul class="sectlevel2">
<li><a href="#_run_as_java_application">Run as Java application</a>
<ul class="sectlevel3">
<li><a href="#_optional_configuration">Optional configuration</a></li>
</ul>
</li>
<li><a href="#_run_using_docker">Run using Docker</a>
<ul class="sectlevel3">
<li><a href="#_quick_start">Quick start</a></li>
<li><a href="#_storing_data_on_the_host">Storing data on the host</a></li>
<li><a href="#_connecting_to_a_mysql_database">Connecting to a MySQL database</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sect_upgrade">Upgrade</a>
<ul class="sectlevel2">
<li><a href="#_make_a_backup">Make a backup</a></li>
<li><a href="#_version_3_2_x_to_3_3_0">Version 3.2.x to 3.3.0</a></li>
<li><a href="#_version_2_3_1_to_3_0_0">Version 2.3.1 to 3.0.0</a></li>
</ul>
</li>
<li><a href="#sect_login">Logging in</a></li>
<li><a href="#sect_menu">Main Menu</a></li>
<li><a href="#sect_annotation">Annotation</a>
<ul class="sectlevel2">
<li><a href="#_opening_a_document">Opening a Document</a></li>
<li><a href="#_navigation">Navigation</a></li>
<li><a href="#_creating_annotations">Creating annotations</a>
<ul class="sectlevel3">
<li><a href="#_spans">Spans</a></li>
<li><a href="#_relations">Relations</a></li>
<li><a href="#_chains">Chains</a></li>
<li><a href="#_primitive_features">Primitive Features</a></li>
<li><a href="#sect_annotation_link_features">Link Features</a></li>
<li><a href="#_choosing_layers">Choosing Layers</a></li>
<li><a href="#_changing_role_names">Changing role names</a></li>
</ul>
</li>
<li><a href="#_settings">Settings</a></li>
<li><a href="#_export">Export</a></li>
</ul>
</li>
<li><a href="#sect_curation">Curation</a></li>
<li><a href="#sect_correction">Correction</a></li>
<li><a href="#sect_automation">Automation</a>
<ul class="sectlevel2">
<li><a href="#_setup">Setup</a></li>
<li><a href="#_annotation">Annotation</a></li>
</ul>
</li>
<li><a href="#sect_monitoring">Monitoring</a>
<ul class="sectlevel2">
<li><a href="#_document_status">Document Status</a></li>
<li><a href="#sect_monitoring_agreement">Agreement</a></li>
</ul>
</li>
<li><a href="#sect_projects">Projects</a>
<ul class="sectlevel2">
<li><a href="#_users">Users</a></li>
<li><a href="#_documents">Documents</a></li>
<li><a href="#sect_projects_layers">Layers</a>
<ul class="sectlevel3">
<li><a href="#_creating_a_custom_layer">Creating a custom layer</a></li>
<li><a href="#_built_in_layers">Built-in layers</a></li>
<li><a href="#sect_projects_layers_properties">Properties</a></li>
<li><a href="#sect_projects_layers_technical_properties">Technical Properties</a></li>
<li><a href="#sect_projects_layers_behaviours">Behaviours</a></li>
<li><a href="#sect_projects_layers_features">Features</a></li>
</ul>
</li>
<li><a href="#_tagsets">Tagsets</a></li>
<li><a href="#_constraints">Constraints</a></li>
<li><a href="#_guidelines">Guidelines</a></li>
<li><a href="#_import">Import</a></li>
<li><a href="#_export_2">Export</a></li>
</ul>
</li>
<li><a href="#sect_constraints">Constraints</a>
<ul class="sectlevel2">
<li><a href="#_conditional_features">Conditional features</a></li>
<li><a href="#_constraints_for_slot_features">Constraints for slot features</a></li>
<li><a href="#_constraints_language_grammar">Constraints language grammar</a></li>
</ul>
</li>
<li><a href="#sect_users">User Management</a></li>
<li><a href="#sect_formats">Formats</a></li>
<li><a href="#sect_webannotsv">WebAnno TSV 3.2 File format</a>
<ul class="sectlevel2">
<li><a href="#_encoding_and_offsets">Encoding and Offsets</a></li>
<li><a href="#_file_header">File Header</a></li>
<li><a href="#_file_body_annotations">File Body / Annotations</a>
<ul class="sectlevel3">
<li><a href="#_reserved_characters">Reserved Characters</a></li>
<li><a href="#_sentence_representation">Sentence Representation</a></li>
<li><a href="#_token_and_sub_token_annotations">Token and Sub-token Annotations</a></li>
<li><a href="#_span_annotations">Span Annotations</a></li>
<li><a href="#_disambiguation_ids">Disambiguation IDs</a></li>
<li><a href="#_slot_features">Slot features</a></li>
<li><a href="#_chain_annotations">Chain Annotations</a></li>
<li><a href="#_relation_annotations">Relation Annotations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sect_troubleshooting">Troubleshooting</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide summarizes the functionality of WebAnno from the user&#8217;s perspective.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is assumed that you plan to test the WebAnno standalone version or an already existing server installation of WebAnno. For information on how to set up WebAnno for a group of users on a server, please refer to the <a href="admin-guide.html">Administrator Guide</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All materials, including this guide, are available via the <a href="https://code.google.com/p/webanno/">WebAnno homepage</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_system_requirements"><a class="anchor" href="#_system_requirements"></a>System Requirements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Requirements for users</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chrome or Safari</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Requirements to run the standalone version</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Runtime Environment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 8 or higher</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Requirements run a WebAnno server</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java Runtime Environment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 8 or higher</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Tomcat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 8.5 or higher (Servlet API 3.1.0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version 5 or higher</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_workflow"><a class="anchor" href="#_workflow"></a>Workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following image shows an exemplary workflow of an annotation project with WebAnno.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/progress_workflow.jpg" alt="progress workflow">
</div>
</div>
<div class="paragraph">
<p>First, the projects need to be set up. In more detail, this means that users are to be added,
guidelines need to be provided, documents have to be uploaded, tagsets need to be defined and uploaded,
etc. The process of setting up and administrating a project are explicitly described in <a href="#sect_projects">Projects</a>.</p>
</div>
<div class="paragraph">
<p>After the setup of a project, the users who were assigned with the task of annotation annotate the
documents according to the guidelines. The task of annotation is further explained in <a href="#sect_annotation">Annotation</a>.
The work of the annotators is managed and controlled by monitoring. Here, the person in charge has
to assign the workload. For example, in order to prevent redundant annotation, documents which are
already annotated by several other annotators and need not be annotated by another person, can be
blocked for others. The person in charge is also able to follow the progress of individual
annotators. All these tasks are demonstrated in <a href="#sect_monitoring">Monitoring</a> in more detail. The person in charge should not only control the quantity, but also the quality of annotation by looking closer into the
annotations of individual annotators. This can be done by logging in with the credentials of the
annotators.</p>
</div>
<div class="paragraph">
<p>After at least two annotators have finished the annotation of the same document by clicking on <strong>Done</strong>, the
curator can start his work. The curator compares the annotations and corrects them if needed. This
task is further explained in <a href="#sect_curation">Curation</a>.</p>
</div>
<div class="paragraph">
<p>The document merged by the curator can be exported as soon as the curator clicked on <strong>Done</strong> for the
document. The extraction of curated documents is also explained in <a href="#sect_projects">Projects</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_installation"><a class="anchor" href="#sect_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_run_as_java_application"><a class="anchor" href="#_run_as_java_application"></a>Run as Java application</h3>
<div class="paragraph">
<p>All-in-one version which does not require a database server or servlet container to be set up.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, WebAnno creates and uses an embedded database. It is not recommended to use WebAnno in
such a configuration for production use. Instead, please configure WebAnno to use a database server
when using it in production. For more information, please refer to the <a href="admin-guide.html#sect_database">Administrator Guide</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Get the stand-alone JAR from the <a href="https://webanno.github.io/webanno/downloads/">WebAnno downloads page</a> and start it simply with a <strong>double-click</strong> in your file manager. WebAnno stores its data in a folder called <code>.webanno</code> (<em>dot webanno</em>) within your home folder,</p>
</div>
<div class="paragraph">
<p>You can start with the <a href="https://webanno.github.io/webanno/downloads/">WebAnno downloads page</a>[example projects] to explore some of the functionalities.</p>
</div>
<div class="sect3">
<h4 id="_optional_configuration"><a class="anchor" href="#_optional_configuration"></a>Optional configuration</h4>
<div class="paragraph">
<p>Alternatively, you can start WebAnno from the command line, in particular if you wish to provide it with additional memory (here 1 GB) or if you want it to store its data in a different folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Xmx1g -Dwebanno.home=/my/webanno/home -jar webanno-XXX-standalone.jar</pre>
</div>
</div>
<div class="paragraph">
<p>Mind to replace <code>/my/webanno/home</code> with path of a folder where WebAnno can store its data.</p>
</div>
<div class="paragraph">
<p>By default the server starts on port 8080 and you can access it via a browser at <code>http://localhost:8080</code> after you started it. You can add the parameter <code>-Dserver.port=9999</code> at the end of the command line to start the server on port 9999 (or choose any other port).</p>
</div>
<div class="paragraph">
<p>WebAnno uses <a href="https://projects.spring.io/spring-boot/">Spring Boot</a>. If you need to set additional parameters of the embedded webserver of the stand-alone version, please refer to the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html">Spring Boot embedded container documentation</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_using_docker"><a class="anchor" href="#_run_using_docker"></a>Run using Docker</h3>
<div class="sect3">
<h4 id="_quick_start"><a class="anchor" href="#_quick_start"></a>Quick start</h4>
<div class="paragraph">
<p>If you have Docker installed, you can run WebAnno using</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker run -it --name webanno -p8080:8080 webanno/webanno:3.3.3</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command download WebAnno from Dockerhub and starts it on port 8080. If this port is not
available on your machine, you should provide another port to the <code>-p</code> parameter.</p>
</div>
<div class="paragraph">
<p>The logs will be printed to the console. To stop the container, press <code>CTRL-C</code>.</p>
</div>
<div class="paragraph">
<p>To run the WebAnno docker in the background use</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker run -d --name webanno -p8080:8080 webanno/webanno:3.3.3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Logs are accessible by typing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker logs webanno</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use <code>docker run</code> only the first time that you run WebAnno. If you try it a second time, Docker
      will complain about the name <code>webanno</code> already being in use. If you follow Docker`s suggestion
      to delete the container, you will loose all your WebAnno data. Further below, we explain how
      you can store your data outside the container in a folder on your host.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you want to run WebAnno again later, use the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker start -ai webanno</code></pre>
</div>
</div>
<div class="paragraph">
<p>or for the background mode</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker start webanno</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_storing_data_on_the_host"><a class="anchor" href="#_storing_data_on_the_host"></a>Storing data on the host</h4>
<div class="paragraph">
<p>If you follow the quick start instructions above, WebAnno will store all its data inside the docker
container. This is normally not what you want because as soon as you delete the container, all data
is gone. That means for example that you cannot easily upgrade to a new version of the WebAnno
docker image when one is released.</p>
</div>
<div class="paragraph">
<p>To store your data on your host computer, first create a folder where you want to store your data.
For example, if you are on Linux, you could create a folder <code>/srv/webanno</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mkdir /srv/webanno</pre>
</div>
</div>
<div class="paragraph">
<p>When you run WebAnno via Docker, you then mount this folder into the container:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker run -it --name webanno -v /srv/webanno:/export -p8080:8080 webanno/webanno:3.3.3</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connecting_to_a_mysql_database"><a class="anchor" href="#_connecting_to_a_mysql_database"></a>Connecting to a MySQL database</h4>
<div class="paragraph">
<p>By default, WebAnno uses an embedded SQL database to store its metadata (not the texts and
annotations, these are stored in files on disk). For production use, it is highly recommended to
use a separate MySQL database instead of the embedded SQL database.</p>
</div>
<div class="paragraph">
<p>You can do so by providing a second Docker for MySQL (see for example <a href="https://hub.docker.com/_/mysql/">this one</a>).
We provide a docker-compose example file, which combines the two containers. In order to use this, download <a href="https://raw.githubusercontent.com/webanno/webanno/master/webanno-webapp/src/main/docker/docker-compose.yml">docker-compose.yml</a> and place it into any folder, change to that folder, and issue the commands</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">export WEBANNO_HOME=/srv/webanno
export WEBANNO_PORT=8080
docker-compose -p webanno up -d</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will start two docker containers: <code>webanno_mysqlserver_1</code>, and <code>webanno_webserver_1</code>. You can check the logs of each by running</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker logs webanno_mysqlserver_1
docker logs webanno_webserver_1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Two directories in your WebAnno home folder will be created: <code>mysql-data</code> and <code>webserver-data</code>. No data is stored in the containers themselves, you are safe to delete them with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">docker-compose -p webanno down</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also just stop or pause them, please see the <a href="https://docs.docker.com/compose/">docker-compose reference</a> for details.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The settings within the docker-compose.yml file are just examples. Adjust the database URL, username, and password accordingly.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_upgrade"><a class="anchor" href="#sect_upgrade"></a>Upgrade</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to upgrade the standalone version of WebAnno using an embedded database. For further information on how to upgrade WebAnno, in particular the WAR version when using a MySQL database or older versions of WebAnno, please refer to the <a href="admin-guide.html">Administrator Guide</a>.</p>
</div>
<div class="sect2">
<h3 id="_make_a_backup"><a class="anchor" href="#_make_a_backup"></a>Make a backup</h3>
<div class="paragraph">
<p>Before any upgrade, make a copy of your WebAnno home folder.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If WebAnno is configured to use an external database, e.g. MySQL, make a
            backup of this database as well. See the <a href="admin-guide.html">Administrator Guide</a>
            for further information.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_version_3_2_x_to_3_3_0"><a class="anchor" href="#_version_3_2_x_to_3_3_0"></a>Version 3.2.x to 3.3.0</h3>
<div class="ulist">
<ul>
<li>
<p>When upgrading from 3.2.x or earlier to 3.3.0 or later, Automation projects break.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_2_3_1_to_3_0_0"><a class="anchor" href="#_version_2_3_1_to_3_0_0"></a>Version 2.3.1 to 3.0.0</h3>
<div class="ulist">
<ul>
<li>
<p>The access permissions of the super admin have changed. Super admins can no longer access
annotation, curation, and monitoring pages for all projects. They can only access them if they
are annotators, admins, or curators in the respective projects. However, they still have full
access to the project settings of all projects and can simply give themselves the missing
permissions. <strong>After an upgrade to 3.0.0, all super admins who require project permissions on existing
projects should assign these permissions to themselves. This also applies when importing old
projects.</strong> For new projects, the creator of the project always starts with annotator, curator,
and project admin permissions. If these permissions are not required by the project creator,
they should be removed after project creation.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_login"><a class="anchor" href="#sect_login"></a>Logging in</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Upon navigating to the WebAnno page, the login screen opens. Please enter your credentials to
proceed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When WebAnno is started for the first time, a default user called <strong>admin</strong> with the password <strong>admin</strong> is automatically created. Be sure to change the passwort for this user after logging in (see <a href="#sect_users">User Management</a>).
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/version3_login.png" alt="version3 login">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_menu"><a class="anchor" href="#sect_menu"></a>Main Menu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After login, you will be presented with the WebAnno overview screen. This screen can be reached at
any time from within the GUI by clicking on the <strong>Home</strong> link in the left upper corner.</p>
</div>
<div class="paragraph">
<p>Here, you can navigate to one of the currently seven options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sect_annotation">Annotation</a> - The page to perform annotations</p>
</li>
<li>
<p><a href="#sect_curation">Curation</a> - Compare and merge annotations from multiple users (only for <em>curators</em>)</p>
</li>
<li>
<p><a href="#sect_correction">Correction</a> - Correcting automatic annotation (under development)</p>
</li>
<li>
<p><a href="#sect_automation">Automation</a> - Creating automatically annotated data</p>
</li>
<li>
<p><a href="#sect_projects">Projects</a> - Set up or change annotation projects (only for <em>administrators</em>)</p>
</li>
<li>
<p><a href="#sect_monitoring">Monitoring</a> - Allows you to see the projects, their progress and change documentstatus (only for <em>administrators</em> and <em>curators</em>)</p>
</li>
<li>
<p><a href="#sect_users">User Management</a> - Allows you to manage the rights of users</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please click on the functionality you need. The individual functionalities will be explained in
further chapters.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_annotation"><a class="anchor" href="#sect_annotation"></a>Annotation</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>annotators</strong>, <strong>project managers</strong>, and
      <strong>administrators</strong>. Annotators and project managers only see projects in which
      they hold the respective roles.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_opening_a_document"><a class="anchor" href="#_opening_a_document"></a>Opening a Document</h3>
<div class="paragraph">
<p>When navigating to the <strong>Annotation</strong> page, a dialogue opens that allows you to select a project, and
a document within the project. If you want to open a different project or document later, click on
<strong>Open</strong> to open the dialog.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/version3_annotation1.png" alt="version3 annotation1">
</div>
</div>
<div class="paragraph">
<p>Projects appear as folders, and contain the documents of the project. Double-click on a document to
open it for annotation. Document names written in black show that the document has not been opened
by the current user, blue font means that it has already been opened, whereas red font indicates
that the document has already been marked as <strong>done</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation"><a class="anchor" href="#_navigation"></a>Navigation</h3>
<div class="paragraph">
<p>Sentence  numbers  on  the  left  side  of  the  annotation  page  show  the  exact sentence numbers in the document.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation3.jpg" alt="annotation3">
</div>
</div>
<div class="paragraph">
<p>The arrow buttons <strong>first page</strong>, <strong>next page</strong>, <strong>previous page</strong>, <strong>last page</strong>, and <strong>go to page</strong> allow you to navigate accordingly. The <strong>Prev.</strong> and <strong>Next</strong> buttons in the <strong>Document</strong> frame allow you to go to the previous or next document on your project list. You can also use the following keyboard assignments in order to navigate only using your keyboard.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Navigation key bindings</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>HOME</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jump to first sentence</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>END</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jump to last sentence</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PAGE DOWN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">move to the next page, if not in the last page already</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PAGE UP</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">move to previous page, if not already in the first page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SHIFT+PAGE DOWN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">go to next document in project, if available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SHIFT+PAGE UP</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">go to previous document in project, if available</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A click on the <strong>Help</strong> button displays the Guidelines for the tool and <strong>The Annotator&#8217;s Guide to NER-Annotation</strong>.
When you are finished with annotating or curating a document, please click on the <strong>Done</strong>
button, so that the document may be further processed. If the button above the <strong>Done</strong> is a cross symbol, it means the documents have already been finished. If the symbol has a tick, it is still open.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation4.jpg" alt="annotation4">
</div>
</div>
<div class="paragraph">
<p>Annotation of spans works by selecting the span, or double-clicking on a word. This activates the <strong>Actions</strong>-box on the right, where you can choose a layer. One can also type in the initial letters and chose the needed layer. After having chosen a layer, the drop-down menu inside the <strong>Features</strong>-box displays the features you can use during the annotation. The tag can be selected out of the drop-down menu inside the <strong>Features</strong>-box which contains the tags of the chosen layer.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_edit_version3.png" alt="annotation edit version3">
</div>
</div>
<div class="paragraph">
<p>To change or delete an annotation, double-click on the annotation (span or link annotations). The <strong>Actions</strong>-box is now activated. Changes and Deletions are possible via the respective buttons.</p>
</div>
<div class="paragraph">
<p>Link annotations (between POS tags) are created by selecting the starting POS-tag, then dragging the arrow to connect it to its target POS tag. All possible targets are highlighted.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_pos_span.jpg" alt="annotation pos span">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_annotations"><a class="anchor" href="#_creating_annotations"></a>Creating annotations</h3>
<div class="paragraph">
<p>To create annotations in WebAnno, you have mainly two options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>select a span of text to create a span annotation</p>
</li>
<li>
<p>click on an existing span annotation and drag an arc to another span annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The definition of layers is covered in section <a href="#sect_projects_layers">Layers</a>.</p>
</div>
<div class="sect3">
<h4 id="_spans"><a class="anchor" href="#_spans"></a>Spans</h4>
<div class="paragraph">
<p>To create an annotation over a span of text, click with the mouse on the text and drag the mouse to create a selection. When you release the mouse, the selected span is activated and highlighted in orange. The annotation detail editor is updated to display the text you have currently selected and to offer a choice on which layer the annotation is to be created. As soon as a layer has been selected, it is automatically assigned to the selected span. To delete an annotation, select a span and click on <strong>Delete</strong>. To deactivate a selected span, click on <strong>Clear</strong>.</p>
</div>
<div class="paragraph">
<p>Depending on the layer behavior configuration, spans annotations can have any length, can overlap,
can stack, can nest, and can cross sentence boundaries.</p>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>For example, for NE annotation, select the options as shown below (red check mark):</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation2.jpg" alt="annotation2">
</div>
</div>
<div class="paragraph">
<p><a href="http://en.wikipedia.org/wiki/Named-entity_recognition">NE</a> annotation can be chosen from a tagset and can span over several tokens within one sentence. Nested NE annotations are also possible (in the example below: "Frankfurter" in "Frankfurter FC").</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_ner.jpg" alt="annotation ner">
</div>
</div>
<div class="paragraph">
<p><a href="http://en.wikipedia.org/wiki/Lemma_%28morphology%29">Lemma</a> annotation, as shown below, is freely selectable over a single token.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_lemma.jpg" alt="annotation lemma">
</div>
</div>
<div class="paragraph">
<p><a href="http://en.wikipedia.org/wiki/Part_of_speech">POS</a> can be chosen over one token out of a tagset.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_pos.jpg" alt="annotation pos">
</div>
</div>
<div class="paragraph">
<div class="title">Zero-width spans</div>
<p>To create a zero-length annotation, hold <strong>SHIFT</strong> and click on the position where you wish to create the annotation. To avoid accidental creations of zero-length annotations, a simple single-click triggers no action by default. The <strong>lock to token</strong> behavior cancels the ability to create zero-length annotations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A zero-width span between two tokens that are directly adjacent, e.g. the full stop at the
      end of a sentence and the token before it (<code>end.</code>) is always considered to be <strong>at the end of the
      first token</strong> rather than at the beginning of the next token. So an annotation between <code>d</code> and <code>.</code>
      in this example would rendered at the right side of <code>end</code> rather than at the left side of <code>.</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Forward annotation</div>
<p>To improve the speed of POS-annotation, select <strong>forward annotation</strong> in the <strong>Actions</strong> box on the left side of your screen. This allows you to select POS-tags via the keys of your keyboard. Pushing a key several times successively proposes every POS-tag starting with the respective letter inside the <strong>Features</strong> box. Pressing a key whose letter does not represent the beginning of any tag leads to the first tag in the tagset. Once a POS-tag has been selected, pushing <strong>space</strong> and <strong>Enter</strong> keys automatically assigns the POS-tag to the token in focus and the next token can be annotated as described. Note that the <strong>Enter</strong> key will not work for the <strong>Safari</strong> browser. Also the <strong>Forward annotation</strong> works only for span annotations with 1) <strong>tagset</strong> and 2) a layer with only one <strong>feature</strong>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/key_binding_POS.png" alt="key binding POS">
</div>
</div>
<div class="paragraph">
<p><a href="http://en.wikipedia.org/wiki/Coreference">Co-reference</a> annotation can be made over several tokens within one sentence. A single token sequence has several co-ref spans simultaneously.</p>
</div>
</div>
<div class="sect3">
<h4 id="_relations"><a class="anchor" href="#_relations"></a>Relations</h4>
<div class="paragraph">
<p>To create a relation annotation, click on a span annotation and drag the mouse to another span
annotation. While you drag, an arc is drawn. It is not possible to create arbitrary relation
annotations. In order to create one, a corresponding relation layer needs to be defined between
the source and target spans.</p>
</div>
<div class="paragraph">
<p>Depending on the layer behavior configuration, relation annotations can stack, can cross each other,
and can cross sentence boundaries.</p>
</div>
<div class="paragraph">
<div class="title">Self-looping relations</div>
<p>To create a relation from a span to itself, press the <strong>SHIFT</strong> key before starting to drag the mouse
and hold it until you release the mouse button.</p>
</div>
<div class="paragraph">
<p>To abort the creation of an annotation, hold the <strong>CTRL</strong> key when you release the mouse button.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, there can be at most one relation layer per span layer. Relations between spans
      of different layers are not supported.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not all arcs displayed in the annotation view are belonging to chain or relation layers. Some
      are induced by <a href="#sect_annotation_link_features">Link Features</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When moving the mouse over an annotation with outgoing relations, the info popup includes the
<strong>yield</strong> of the relations. This is the text transitively covered by the outgoing relations. This
is useful e.g. in order to see all text governed the head of a particular dependency relation.
The text may be abbreviated.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_relation_yield.png" alt="annotation relation yield">
</div>
<div class="title">Figure 1. Example of the yield of a dependency relation</div>
</div>
</div>
<div class="sect3">
<h4 id="_chains"><a class="anchor" href="#_chains"></a>Chains</h4>
<div class="paragraph">
<p>A chain layer includes both, span and relation annotations, into a single structural layer. Creating
a span annotation in a chain layer basically creates a chain of length one. Creating a relation
between two chain elements has different effects depending on whether the <strong>linked list</strong> behavior
is enabled for the chain layer or not. To enable or disable the <strong>linked list</strong> behaviour, go to <strong>Layers</strong>
in the <strong>Projects Settings</strong> mode. After choosing <strong>Coreference</strong>, <strong>linked list</strong> behaviour
is displayed in the checkbox and can either be marked or unmarked.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/LinkedList_1.png" alt="LinkedList 1">
</div>
<div class="title">Figure 2. Configuration of a chain layer in the project settings</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_span_many.jpg" alt="annotation span many">
</div>
<div class="title">Figure 3. Example of chain annotations</div>
</div>
<div class="paragraph">
<p>To abort the creation of an annotation, hold <strong>CTRL</strong> when you release the mouse button.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Chain behavior</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Linked List</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the two spans are already in the same chain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nothing happens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the two spans are in different chains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the two chains are merged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the two spans are already in the same chains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the chain will be re-linked such that a chain link points from the source to the target span,
  potentially creating new chains in the process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the two spans are in different chains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the chains will be re-linked such that a chain link points from the source to the target span,
  merging the two chains and potentially creating new chains from the remaining prefix and suffix
  of the original chains.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_primitive_features"><a class="anchor" href="#_primitive_features"></a>Primitive Features</h4>
<div class="paragraph">
<p>WebAnno supports primitive features that can be of the type string, boolean, integer, and float.
Boolean features are displayed as a checkbox that can either be marked or unmarked. Integer and
float features are displayed using a number field. String features are displayed using a text field
or - in case they have a tagset - using a combobox.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect_annotation_link_features"><a class="anchor" href="#sect_annotation_link_features"></a>Link Features</h4>
<div class="paragraph">
<p>Link features can be used to link one annotation to others. Before a link can be made, a slot with
a role must be added. Enter the role label in the text field and press the <strong>add</strong> button to create
the slot. Next, click on field in the newly created slot to <strong>arm</strong> it. The field&#8217;s color will change
to indicate that it is armed. Now you can fill the slot by double-clicking on a span
annotation. To remove a slot, arm it and then press the <strong>del</strong> button.</p>
</div>
</div>
<div class="sect3">
<h4 id="_choosing_layers"><a class="anchor" href="#_choosing_layers"></a>Choosing Layers</h4>
<div class="ulist">
<ul>
<li>
<p>Choose one of the predefined layers in the <strong>Actions</strong> box on the right side of the screen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <strong>Actions</strong> box always shows the presently activated layer, the <strong>Features</strong> box shows the layer of the activated instance. Subsequently, the settings of the two boxes can differ. To change settings during the annotation process, cancel the previously selected layer by clicking on <strong>Clear</strong> in the <strong>Action</strong> box and choose a new layer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_changing_role_names"><a class="anchor" href="#_changing_role_names"></a>Changing role names</h4>
<div class="paragraph">
<p>To change a previously selected role name, no prior deletion is needed. Just double-click on the instance you want to change, it will be highlighted in orange, and chose another role name.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_settings"><a class="anchor" href="#_settings"></a>Settings</h3>
<div class="paragraph">
<p>Once the document is opened, a default of 5 sentences is loaded on the annotation  page.  The
<strong>Settings</strong>  button will  allow  you  to specify the settings of the annotation layer.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_settings.png" alt="annotation settings">
</div>
</div>
<div class="paragraph">
<p>Next to <strong>Annotation layers</strong>, you to select the annotation layer which is displayed during annotation.
This is useful to reduce clutter if there are many annotation layers. Mind that hiding a layer which
has relations attached to it will also hide the respective relations. E.g. if you disable POS, then
no dependency relations will be visible anymore.</p>
</div>
<div class="paragraph">
<p>The <strong>Remember layer</strong> checkbox controls if the annotation layer selected in the <strong>Actions</strong> box. It will work as main layer during the annotation process. Only instances of this layer will be created, even if an annotation in another layer is selected. If necessary, it is possible to change active instances. Still, if a new instance is selected, the main layer is automatically activated.</p>
</div>
<div class="paragraph">
<p>The <strong>Sidebar size</strong> controls the width of the sidebar containing the annotation detail edtior and
actions box. In particular on small screens, increasing this can be useful. The sidebar can be
configured to take between 10% and 50% of the screen.</p>
</div>
<div class="paragraph">
<p>The <strong>Number of sentences</strong> controls how many sentences are visible in the annotation area. The more
sentences are visible, the slower WebAnno will react.</p>
</div>
<div class="paragraph">
<p>The <strong>Auto-scroll</strong> setting controls if the annotation view is centered on the sentence in which the
last annotation was made. This can be useful to avoid manual navigation.</p>
</div>
<div class="paragraph">
<p>If <strong>Use the same color for all tags in a layer</strong> is chosen, annotations are colored per layer. If this option
is off, then annotations are colored by their labels (all annotations with the same label also have
the same color). Mind that there is a limited number of colors such that eventually colors will
be reused.</p>
</div>
</div>
<div class="sect2">
<h3 id="_export"><a class="anchor" href="#_export"></a>Export</h3>
<div class="paragraph">
<p>Annotations are always immediately persistent in the backend database. Thus, it is not necessary to  save the annotations explicitly. Also, losing the connection through network issues or timeouts does not cause data loss. To obtain a local copy of the current document, click on <strong>export</strong> button. The following frame will appear:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/annotation_export.jpg" alt="annotation export">
</div>
</div>
<div class="paragraph">
<p>Choose your preferred format. Please take note of the facts that the plain text format does not contain any annotations and that the files in the binary format need to be unpacked before further usage. For further information on the formats provided in WebAnno, please consult the corresponding chapter <a href="#sect_formats">Formats</a>.</p>
</div>
<div class="paragraph">
<p>The document will be saved to your local disk, and can be re-imported via adding the document to a project by a project administrator. Please export your data periodically, at least when finishing a document or not continuing annotations for an extended period of time.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_curation"><a class="anchor" href="#sect_curation"></a>Curation</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>project managers</strong> (managers of existing projects),
      <strong>curators</strong>, and <strong>administrators</strong>. Curators and project managers only see projects in which
      they hold the respective roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When navigating to the <strong>Curation Page</strong>, the procedure for opening projects and documents is the same as in <a href="#sect_annotation">Annotation</a>. The <strong>Page</strong> navigation is also equivalent to <a href="#sect_annotation">Annotation</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Explanation of the project colors in the curation open document dialog</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No curatable documents</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Curatable documents</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Green</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Explanation of the document colors in the curation open document dialog</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Black</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation in progress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Black</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Curation in progress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Curation finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the left frame of the window, named <strong>Sentences</strong>, an overview of the chosen document is displayed. Sentences are represented by their number inside the document. The ones shaded in red created a conflict in annotation.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/curation1.png" alt="curation1">
</div>
</div>
<div class="paragraph">
<p>If you want to see the annotations that were made in a sentence, you have to click on the sentence. Then on the right side of the window, the annotations are displayed.</p>
</div>
<div class="paragraph">
<p>The frame called <strong>Merged</strong> shows the result of the default merge of the conflicting annotations. Below it, the annotated sentences are shown in separate frames, titled with the names of the annotators. By clicking on an annotation in one of the annotator&#8217;s frames, you accept the annotation and merge it into the <strong>Merged</strong> view. The sentence in the merged frame can be treated like a sentence in the <strong>Annotation</strong>. By selecting a word with a click you are able to produce new annotations, by clicking on an annotation, you are able to change its classification or delete it.
The different states of the annotation agreement are marked by different colors. If the annotations were the same, they are marked grey in the lower frames and light blue in the merged frame. If the annotations are disparate, the markings are dark blue in the lower frames. By default, they are not taken into the merged file. If you choose one annotation to be right by clicking on it, the chosen annotation will turn green in the frame of the corresponding annotator. Also, the annotation will say <strong>USE</strong> next to the classification.
The annotations which were not chosen to be in the merged file are marked dark blue. The annotations which were wrongly classified are marked in red.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. Explanation of the annotation colors in curation view</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Light Blue (in upper frame)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">final annotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dark Blue (in the lower frame)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not chosen annotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">White (in lower frame)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chosen annotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red (in lower frame)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wrong annotation (same span, other type).</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_correction"><a class="anchor" href="#sect_correction"></a>Correction</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>annotators</strong>, <strong>project managers</strong>, and
      <strong>administrators</strong>. Annotators and project managers only see projects in which
      they hold the respective roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this page, already annotated documents may be checked, corrected and enhanced.</p>
</div>
<div class="paragraph">
<p>Before being able to see and correct documents, make sure to have chosen <em>correction</em> when creating your project in projects. For detailed instructions please refer to <a href="#sect_projects">Projects</a>. Also make sure that the documents you upload are already annotated.</p>
</div>
<div class="paragraph">
<p>After clicking on the <strong>Correction</strong> symbol on the main page, the Correction page is opened. In the appearing frame, which is the left one in the image below, the user has to choose a project first.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/correction1.jpg" alt="correction1">
</div>
</div>
<div class="paragraph">
<p>Afterwards the documents assigned to him are displayed. Now he may choose a document. Just like in <a href="#sect_annotation">Annotation</a> and <a href="#sect_curation">Curation</a>, the color of the document names signals the following: black - unopened document, blue - opened document and red - document finished.</p>
</div>
<div class="paragraph">
<p>After having chosen the document, two frames are displayed.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/correction2.jpg" alt="correction2">
</div>
</div>
<div class="paragraph">
<p>The upper one, Annotation, is the frame in which annotations can be made by the user. Moreover, it displays the chosen annotations.
The lower frame, <strong>User: Suggestion</strong>, displays the annotation that was previously made in the uploaded document. By clicking on the annotations (not the words), they are chosen as <em>right</em> and are therefore displayed in the Annotation frame. Additional annotations may be made just like in <em>Annotation</em>, by selecting the span or relation to be annotated, choosing the layer and tag. For more detailed instruction or the guidelines for the navigation in the upper frames (Document, Page, Help, Workflow), see the guidelines for <a href="#sect_annotation">Annotation</a>.
No changes may be made in the lower frame.</p>
</div>
<div class="paragraph">
<p>The coloring of the annotation signals the same as in <a href="#sect_curation">Curation</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_automation"><a class="anchor" href="#sect_automation"></a>Automation</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>project managers</strong> and
      <strong>administrators</strong>. Annotators and project managers only see projects in which
      they hold the respective roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This functionality gives the possibility to choose features and documents, which can be used for training of all layers that are offered in WebAnno (lemma, NER, POS and co-ref).</p>
</div>
<div class="sect2">
<h3 id="_setup"><a class="anchor" href="#_setup"></a>Setup</h3>
<div class="paragraph">
<p>After clicking on <strong>Create Project</strong> on the <a href="#sect_projects">Projects</a> page, select <strong>automation</strong> as your project type. The detailed description may be found in <a href="#sect_projects">Projects</a>.</p>
</div>
<div class="paragraph">
<p>The documents, that are to be annotated, have to be uploaded in the frame <strong>Documents</strong>. Please make sure that the chosen format corresponds to the format of the files you are uploading.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/automation1.jpg" alt="automation1">
</div>
</div>
<div class="paragraph">
<p>To manage the automation process, choose the Automation frame. The following frame will appear:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/automation2.png" alt="automation2">
</div>
</div>
<div class="paragraph">
<p>First choose your target layer in the <strong>Select automation layer</strong> frame.
If you want to train a non-custom layer, please make sure you created or imported it in the Layer frame (for instructions to do so, see <a href="#sect_projects">Projects</a>).</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/automation4.png" alt="automation4">
</div>
</div>
<div class="paragraph">
<p>Here you may choose the format of the target layer and optionally add some feature layers on which you want to train.</p>
</div>
<div class="paragraph">
<p>In the tab <strong>Target layer</strong> you may upload training files containing the target layer in WebAnno Export formats (WebAnno CPH TEI reader, plain text, binary format, XMI format, old WebAnno Format, WebAnno Format, Weblicht TCF Format, for more information on these formats, see [<a href="https://code.google.com/p/webanno/wiki/Format?ts=1407336468&amp;updated=Format" class="bare">https://code.google.com/p/webanno/wiki/Format?ts=1407336468&amp;updated=Format</a> Format]).</p>
</div>
<div class="paragraph">
<p>In the next tab <strong>TAB-SEP target</strong>, you may upload training files containing the target layer in a tab-separated format, which is structured by writing each single word in a line together with its target tag, separated by a tab. Sentences are separated by blank lines.</p>
</div>
<div class="paragraph">
<p>The same goes analogically for the feature layers. The <strong>Other layers</strong> tab gives the possibility to upload WebAnno Export formats and choosing the layers that are to be used in training in the format window. The <strong>TAB-SEP feature</strong> tab gives the possibility to upload files in the above described tab-separated format, containing the feature tags in the second column. Every file will be regarded as one separate feature.</p>
</div>
<div class="paragraph">
<p>After choosing the training files, uploading them in the right format and importing them (by clicking on <strong>Import</strong>), every file will be displayed in the corresponding tab in the frame <strong>Documents</strong>. Click on the button <strong>Start Automation</strong> on the left, when you have uploaded your training data. Be prepared to wait for some time, as automation is a non-trivial process.</p>
</div>
<div class="paragraph">
<p>You can see that the automation has finished either by the fact that the <strong>Start Automation</strong> button is enabled again, or on the <a href="#sect_monitoring">Monitoring</a> page, by choosing the project in <a href="#sect_monitoring">Monitoring</a> and looking at the progress shown in the <strong>Training results /status</strong> frame.</p>
</div>
</div>
<div class="sect2">
<h3 id="_annotation"><a class="anchor" href="#_annotation"></a>Annotation</h3>
<div class="paragraph">
<p>To see the tags that were automatically created during the previously described, go to <strong>Home</strong> and choose the <strong>Automation</strong> page.
Then select a project and a file, analogically to Annotation. The page, which is demonstrated below will be displayed.
The navigation, export and the marking of finished documents is the same as in <a href="#sect_annotation">Annotation</a>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/automation6.png" alt="automation6">
</div>
</div>
<div class="paragraph">
<p>In the lower part, you see two horizontal frames, the lower one showing the automatically created annotation.
By clicking on the tags, they are selected and therefore appear in the upper frame <strong>Annotation</strong>. You may see that
selected tags turn grey in the <strong>Automation</strong> frame and blue in the <strong>Annotation</strong> frame. You may also add new tags to the <strong>Annotation</strong>,
just like on the Annotation page.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_monitoring"><a class="anchor" href="#sect_monitoring"></a>Monitoring</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>project managers</strong> (managers of existing projects),
      <strong>curators</strong>, and <strong>administrators</strong>. Curators and project managers only see projects in which
      they hold the respective roles.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As an administrator, you are able to observe the progress and document status of projects you are
responsible for. Moreover, you are able to see the time of the last login of every user and observe the agreement between the annotators.
After clicking on <strong>Monitoring</strong> in the main menu, the following page is displayed:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/monitoring1.png" alt="monitoring1">
</div>
</div>
<div class="paragraph">
<p>In the right frame, the overall progress of all projects is displayed.
In the left frame one sees all projects, that one has an administrator role in.
By clicking on one of the projects on the left, it may be selected and the following view is opened:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/monitoring2.png" alt="monitoring2">
</div>
</div>
<div class="paragraph">
<p>The percentual progress out of the workload for individual annotators may be viewed as well as the number of finished documents.</p>
</div>
<div id="sect_monitoring_status" class="paragraph">
<p>Below the document overview, a measuring for the inter-annotator-agreement can be selected by opening the <strong>Measure</strong> dropdown menu. Three different units of measurement are possible: <a href="https://en.wikipedia.org/wiki/Cohen%27s_kappa">Cohen&#8217;s kappa</a> as implemented in
DKPro Statistics, <a href="https://en.wikipedia.org/wiki/Fleiss%27_kappa">Fleiss' kappa</a> and <a href="https://en.wikipedia.org/wiki/Krippendorff%27s_alpha">Krippendorff&#8217;s alpha</a>.
Below the <strong>Measure</strong> dropdown menu, an export format can be chosen. Currently, only <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> format is possible.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/monitoring3.png" alt="monitoring3">
</div>
</div>
<div class="paragraph">
<p>Above the <strong>Measure</strong> dropbdown menu, the <strong>Feature</strong> box allows the selection of layers for which an agreement shall be computed. Doubleclicking on a layer starts the computation of the agreement and an outline is shown to the left side of the box:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/monitoring4.png" alt="monitoring4">
</div>
</div>
<div class="sect2">
<h3 id="_document_status"><a class="anchor" href="#_document_status"></a>Document Status</h3>
<div class="paragraph">
<p>The following table will explain the different symbols which explain the status of a document for a user and the described task.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meaning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/icon_new.png" alt="icon new"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation has not started yet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/icon_locked.png" alt="icon locked"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Document not available to user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/icon_annotation_in_progress.png" alt="icon annotation in progress"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation is in progress</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/icon_done.png" alt="icon done"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation is complete</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/icon_curation_in_progress.png" alt="icon curation in progress"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Curation is in progress</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can also alter the document status of annotators. By clicking on the symbols you can change between <strong>Done</strong> and <strong>In Progress</strong>.
You can also alter between <strong>New</strong> and <strong>Locked</strong> status.
The second column of the document status frame displays the status of the curation.</p>
</div>
<div class="paragraph">
<p>As there is only one curator for one document, curation is not divided into individual curators.</p>
</div>
<div class="paragraph">
<p>Scrolling down, two further frames become visible. The left one, named <strong>Layer</strong>, allows you to chose a layer in which pairwise <a href="https://en.wikipedia.org/wiki/Cohen%27s_kappa">kappa agreement</a> between annotators will be calculated.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/monitoring_agreement.jpg" alt="monitoring agreement">
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect_monitoring_agreement"><a class="anchor" href="#sect_monitoring_agreement"></a>Agreement</h3>
<div class="paragraph">
<p>Agreement can be inspected on a per-feature basis and is calculated pair-wise between all
annotators across all documents.</p>
</div>
<div class="paragraph">
<p>The first time a feature is selected for agreement inspection, it takes a moment to calculate the
differences between the annotated documents. Switching between different features subsequently
is much faster.</p>
</div>
<div class="paragraph">
<p>Agreement is calculated in two steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Generation of positions and configuration sets</strong> - all documents are scanned for annotations and
annotations located at the same positions are collected in configuration sets. To determine if
two annotations are at the same position, different approaches are used depending on the layer
type. For a span layer, the begin and end offsets are used. For a relation layer, the begin and end
offsets of the source and target annotation are used. Chains are currently not supported.</p>
</li>
<li>
<p><strong>Calculation of pairwise agreement</strong> - based on the generated configuration sets, agreement is calculated.
There are two cases where a configuration set may be omitted from the pairwise agreement calculation:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>one of the users did not make an annotation at the position;</p>
</li>
<li>
<p>one or both of the users did not assign a value to the feature on which agreement is calculated
at the position.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The lower part of the agreement matrix displays how many configuration sets were used to calculate
agreement and how many were found in total. The upper part of the agreement matrix displays the
pairwise Cohen&#8217;s kappa scores.</p>
</div>
<div class="paragraph">
<p>The agreement calculations considers an unset feature (with a <code>null</code> value) to be equivalent to a
feature with the value of an empty string. Empty strings are considered valid labels and are not
excluded from agreement calculation.</p>
</div>
<div class="paragraph">
<p>Annotations for a given position are considered complete when both annotators have made an
annotation. Unless the agreement measure supports <code>null</code> values (i.e. missing annotations),
incomplete annotations are implicitly excluded from the agreement calculation. If the agreement
measure does support incomplete annotations, then excluding them or not is the users' choice.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 9. Possible combinations for agreement</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature value annotator 1</th>
<th class="tableblock halign-left valign-top">Feature value annotator 2</th>
<th class="tableblock halign-left valign-top">Agreement</th>
<th class="tableblock halign-left valign-top">Complete</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>X</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>X</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>X</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>no annotation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>empty</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>empty</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>empty</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>empty</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>empty</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>no annotation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Multiple interpretations in the form of stacked annotations are not supported in the agreement
      calculation! This also includes relations for which source or targets spans are stacked.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_projects"><a class="anchor" href="#sect_projects"></a>Projects</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>project managers</strong> (managers of existing projects),
      <strong>project creators</strong> (users with the ability to create new projects), and <strong>administrators</strong>.
      Project managers only see projects in which they hold the respective roles. Project creators
      only see projects in which they hold the project manager role.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is the place to specify/edit annotation projects.
You can either select one of the existing projects for editing, or click <strong>Create Project</strong> to add a project.</p>
</div>
<div class="paragraph">
<p>Although correction and automation projects function similarly, the management differs after the creation of the document. For further description, look at the corresponding chapters <a href="#sect_automation">Automation</a> and <a href="#sect_correction">Correction</a>.</p>
</div>
<div class="paragraph">
<p>Only admins are allowed to create projects.
Click on <strong>Create Project</strong> to create a new project.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project1.jpg" alt="project1">
</div>
</div>
<div class="paragraph">
<p>After doing so, a new pane is displayed, where you can name and describe your new project. It is also important to chose the kind of project you want to create. You have the choice between annotation, automation, and correction.
Please do not forget to save.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project2.jpg" alt="project2">
</div>
</div>
<div class="paragraph">
<p>After saving the details of the new project, it can be treated like any other already existing one.  Also, a new pane with many options to organize the project is displayed.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project10.jpg" alt="project10">
</div>
</div>
<div class="paragraph">
<p>To delete a project, click on it in the frame <strong>Details</strong>. The project details are displayed. Now, click on <strong>Delete</strong>.</p>
</div>
<div class="paragraph">
<p>The pane with the options to organize and edit a project, as described above, can also be reached by clicking on the desired project in the left frame.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project3.jpg" alt="project3">
</div>
</div>
<div class="paragraph">
<p>By clicking on the tabs, you can now set up the chosen project.</p>
</div>
<div class="sect2">
<h3 id="_users"><a class="anchor" href="#_users"></a>Users</h3>
<div class="paragraph">
<p>After clicking on <strong>Users</strong>, you are displayed a new pane in which you can add new users by clicking on the button <strong>Add User</strong>.  After doing so, you get a list of users in the system which can be added to the project. By making a tick in front of the login, you can chose a new user.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project4.jpg" alt="project4">
</div>
</div>
<div class="paragraph">
<p>Please do not forget to save after choosing all members of the project. Close the pane by clicking on <strong>Cancel</strong>. The rights of users created like this are that of an annotator. If you want to expand the user&#8217;s status, you can do so by clicking on the user and then on <strong>Change Permission</strong>. The following frame will pop up.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project5.jpg" alt="project5">
</div>
</div>
<div class="paragraph">
<p>After ticking the wished permissions, click on <strong>Update</strong>.
To remove a user, click on the login and then <strong>Remove User</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_documents"><a class="anchor" href="#_documents"></a>Documents</h3>
<div class="paragraph">
<p>To add or delete documents, you have to click on the tab <strong>Documents</strong> in the project pane. Two frames will be displayed. In the first frame you can import new documents.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project6.jpg" alt="project6">
</div>
</div>
<div class="paragraph">
<p>Choose a document by clicking on <strong>Choose Files</strong>. Please mind the format, which you have to choose above. Then click on <strong>Import Document</strong>.
The imported documents can be seen in the frame below.
To delete a document from the project, you have to click on it and then click on <strong>Delete</strong> in the right lower corner.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect_projects_layers"><a class="anchor" href="#sect_projects_layers"></a>Layers</h3>
<div class="paragraph">
<p>In WebAnno, all annotations belong to an annotation <strong>layer</strong>. Each layer has a structural <strong>type</strong> that defines if it is a <strong>span</strong>, a <strong>relation</strong>, or a <strong>chain</strong>. It also defines how the annotations behave and what kind of features it carries.</p>
</div>
<div class="sect3">
<h4 id="_creating_a_custom_layer"><a class="anchor" href="#_creating_a_custom_layer"></a>Creating a custom layer</h4>
<div class="paragraph">
<p>This section provides a short walkthrough on the creation of a custom layer. The following sections act as reference documentation providing additional details on each step. In the following example, we will create a custom layer called <strong>Sentiment</strong> with a feature called <strong>Polarity</strong> that can be <strong>negative</strong>, <strong>neutral</strong>, or <strong>positive</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the layer <em>Sentiment</em></p>
<div class="ulist">
<ul>
<li>
<p>Go to the <strong>Layers</strong> tab in your project&#8217;s settings and press the <strong>Create layer</strong> button</p>
</li>
<li>
<p>Enter the name of the layer in <strong>Layer name</strong>: <em>Sentiment</em></p>
</li>
<li>
<p>Choose the <strong>type</strong> of the layer: <em>Span</em></p>
</li>
<li>
<p>Enable <strong>Allow multiple tokens</strong> because we want to mark sentiments on spans longer than a single token.</p>
</li>
<li>
<p>Press the <strong>Save layer</strong> button</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create the feature <em>Polarity</em></p>
<div class="ulist">
<ul>
<li>
<p>Press the <strong>New feature</strong> button</p>
</li>
<li>
<p>Choose the <strong>type</strong> of the feature: <em>uima.cas.String</em></p>
</li>
<li>
<p>Enter the <strong>name</strong> of the feature: <em>Polarity</em></p>
</li>
<li>
<p>Press <strong>Save feature</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create the tagset <em>Polarity values</em></p>
<div class="ulist">
<ul>
<li>
<p>Go to the <strong>Tagsets</strong> tab and press <strong>Create tagset</strong></p>
</li>
<li>
<p>Enter the <strong>name</strong> of the tagset: <em>Polarity values</em></p>
</li>
<li>
<p>Press <strong>Save tagset</strong></p>
</li>
<li>
<p>Press <strong>Create tag</strong>, enter the <strong>name</strong> of the tag: <em>negative</em>, press <strong>Save tag</strong></p>
</li>
<li>
<p>Repeat for <em>neutra</em> and <em>positive</em></p>
</li>
</ul>
</div>
</li>
<li>
<p>Assign the tagset <em>Polarity values</em> to the feature <em>Polarity</em></p>
<div class="ulist">
<ul>
<li>
<p>Back in the <strong>Layers</strong> tab, select the layer: <em>Sentiment</em> and select the feature: <em>Polarity</em></p>
</li>
<li>
<p>Set the <strong>tagset</strong> to <em>Polarity values</em></p>
</li>
<li>
<p>Press <strong>Save feature</strong></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now you have created your first custom layer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_built_in_layers"><a class="anchor" href="#_built_in_layers"></a>Built-in layers</h4>
<div class="paragraph">
<p>WebAnno comes with a set of built-in layers that allow you to start annotating immediately. Also, many import/export formats only work with these layers as their semantics are known to WebAnno. For this reason, the ability to customize the behaviors of built-in layers is limited and it is not possible to extend them with custom features.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 10. Built-in layers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Layer</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Enforced behaviors</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chunk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Span</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> Lock to multiple tokens,
no stacking,
no sentence boundary crossing</div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coreference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chain</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> <em>(no enforced behaviors)</em></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relation over POS,</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> No stacking,
no sentence boundary crossing</div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lemma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Span</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> Locked to token offsets,
no stacking,
no sentence boundary crossing</div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Named Entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Span</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> <em>(no enforced behaviors)</em></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Part of Speech (POS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Span</p></td>
<td class="tableblock halign-left valign-top"><div class="verse"> Locked to token offsets,
no stacking,
no sentence boundary crossing</div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The coloring of the layers signal the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 11. Color legend</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Color</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">green</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">built-in annotation layer, enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">blue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom annotation layer, enabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">red</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">disabled annotation layer</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To create a custom layer, select <strong>Create Layer</strong> in the <strong>Layers</strong> frame. Then, the following frame will be displayed.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect_projects_layers_properties"><a class="anchor" href="#sect_projects_layers_properties"></a>Properties</h4>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/layer1.jpg" alt="layer1">
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 12. Properites</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Layer name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the layer (obligatory)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A description of the layer. This information will be shown in a tooltip when the mouse hovers over the layer name in the annotation detail editor panel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the layer is enabled or not. Layers can currently not be deleted, but they can be disabled.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When a layer is first created, only ASCII characters are allowed for the layer name because WebAnno derives an internal UIMA type name from the initial layer name. After the layer has been created, the name can be changed arbitrarily. The internal UIMA type name will not be updated. The internal UIMA name is
e.g. used when exporting data or in constraint rules.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/layer2.jpg" alt="layer2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="sect_projects_layers_technical_properties"><a class="anchor" href="#sect_projects_layers_technical_properties"></a>Technical Properties</h4>
<div class="paragraph">
<p>In the frame <strong>Technical Properties</strong>, the user may select the type of annation that will be made with this layer: span, relation, or chain.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 13. Technical Properites</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Internal name</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal UIMA type name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Type</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the layer (obligatory, see below)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Attach to layer
<em>(Relations)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines which span layer a relation attaches to. Relations can only be created between annotations of this span layer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The layer type defines the structure of the layer. WebAnno supports three different types.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 14. Layer types</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Span</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Continous segment of text delimited by a start and end character offset. The example shows two spans.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/project_layer_type_span.png" alt="project layer type span"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binary relation between two spans visualized as an arc between spans. The example shows a relation between two spans.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/project_layer_type_relation.png" alt="project layer type relation"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directed sequence of connected spans in which each span connects to the following one. The example shows a single chain consisting of three connected spans.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./user-guide/images/project_layer_type_chain.png" alt="project layer type chain"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For relation annotations the type of the spans which are to be connected can be chosen in the field <strong>Attach to layer</strong>. Here, only non-default layers are displayed. To create a relation, first the span annotation needs to be created.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently for each span layer there can be at most one relation layer attaching to it.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is currently not possible to create relations between spans in different layers. For example if you define span layers called <strong>Men</strong> and <strong>Women</strong>, it is impossible to define a relation layer <strong>Married to</strong> between the two. To work around this limitation, create a single span layer <strong>Person</strong> with a feature <strong>Gender</strong> instead. You can now set the feature <strong>Gender</strong> to <strong>Man</strong> or <strong>Woman</strong> and eventually define a relation layer <strong>Married to</strong> attaching to the <strong>Person</strong> layer.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sect_projects_layers_behaviours"><a class="anchor" href="#sect_projects_layers_behaviours"></a>Behaviours</h4>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 15. Behaviors</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Behavior</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Read-only</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The layer may be viewed but not edited.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Lock to token offsets
<em>(span, chain)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotation boundaries are forced to coincide with token boundaries. If the selection is smaller than a token, the annotation is expanded to the next larger token covering the selection. If the selection covers multiple tokens, the annotation is reduced to the first covered token.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Allow multiple tokens
<em>(span, chain)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Like <em>Lock to token offsets</em> except that the annotation may cover multiple tokens. If this is enabled, then <em>Lock to token offsets</em> is automatically disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Allow stacking</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow multiple annotations in this layer to be made at exactly the same position. If this option is disabled, a new annotation made at the same location as an existing annotation will replace the existing annotation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Allow crossing sentence boundary
<em>(chain)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow annotations to cross sentence boundaries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Behave like a linked list</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controls what happens when two chains are connected with each other. If this option is <strong>disabled</strong>, then the two entire chains will be merged into one large chain. Links between spans will be changed so that each span connects to the closest following span -  no arc labels are displayed. If this option is <strong>enabled</strong>, then the chains will be split if necessary at the source and target points, reconnecting the spans such that exactly the newly created connection is made - arc labels are available.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In order to create sub-token annotations, both <strong>Lock to token offsets</strong> and <strong>Allow multiple tokens</strong> need to be disabled.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sect_projects_layers_features"><a class="anchor" href="#sect_projects_layers_features"></a>Features</h4>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/layer3.jpg" alt="layer3">
</div>
</div>
<div class="paragraph">
<p>In this section, features and their properties can be configured.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When a feature is first created, only ASCII characters are allowed for the feature name because WebAnno derives an internal UIMA name from the initial layer name. After the feature has been created, the name can be changed arbitrarily. The internal UIMA feature name will not be updated. The internal UIMA name is
e.g. used when exporting data or in constraint rules.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 16. Feature properties</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Internal name</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal UIMA feature name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Type</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the feature (obligatory, see below)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Name</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the feature (obligatory)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Description</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A description that is shown when the mouse hovers over the feature name in the annotation detail editor panel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Enabled</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Features cannot be deleted, but they can be disabled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Show</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the feature value is shown in the annotation label. If this is disabled, the feature is only visible in the annotation detail editor panel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Remember</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the annotation detail editor should carry values of this feature
over when creating a new annotation of the same type. This can be useful when creating many annotations
of the same type in a row.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> Tagset
<em>(String)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The tagset controlling the possible values for a string feture.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>WebAnno supports the following feature types.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 17. Feature types</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> uima.cas.String</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Textual feature that can optionally be controlled by a tagset. It is rendered as a text field or as a combobox if a tagset is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> uima.cas.Boolean</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean feature that can be true or false and is rendered as a checkbox.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> uima.cas.Integer</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric feature for integer numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> uima.cas.Float</div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric feature for decimal numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> uima.tcas.Annotation
<em>(Span layers)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link feature that can point to any arbitrary span annotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="verse"> <em>other span layers</em>
<em>(Span layers)</em></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link feature that can point only to the selected span layer.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please take care that when working with non-custom layers, they have to be ex- and imported, if you want to use the resulting files in e.g. correction projects.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tagsets"><a class="anchor" href="#_tagsets"></a>Tagsets</h3>
<div class="paragraph">
<p>To administer the tagsets, click on the tab <strong>Tagsets</strong> in the project pane.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project7.jpg" alt="project7">
</div>
</div>
<div class="paragraph">
<p>To administer one of the existing tagsets, select it by a click. Then, the tagset characteristics are displayed.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project8.jpg" alt="project8">
</div>
</div>
<div class="paragraph">
<p>In the Frame <strong>Tagset details</strong>, you can change them,  export a tagset, save the changes you made on it or delete it by clicking on <strong>Delete tagset</strong>.
To change an individual tag, you select one in the list displayed in the frame <strong>Tags</strong>. You can then change its description or name or delete it by clicking <strong>Delete tag</strong> in <strong>Tag details</strong>.  Please do not forget to save your changes by clicking on <strong>Save tag</strong>.
To add a new tag, you have to click on <strong>Create tag</strong> in <strong>Tag details</strong>. Then you add the name and the description, which is optional. Again, do not forget to click <strong>Save tag</strong> or the new tag will not be created.</p>
</div>
<div class="paragraph">
<p>To create an own tagset, click on <strong>Create tagset</strong> and fill in the fields that will be displayed in the new frame. Only the first field is obligatory. Adding new tags works the same way as described for already existing tagsets. If you want to have a free annotation, as it could be used for lemma or meta information annotation, do not add any tags.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project_tagset_new.jpg" alt="project tagset new">
</div>
</div>
<div class="paragraph">
<p>To export a tagset, choose the format of the export at the bottom of the frame and click <strong>Export tagset</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_constraints"><a class="anchor" href="#_constraints"></a>Constraints</h3>
<div class="paragraph">
<p>To import a constraints file, go to <strong>Project</strong> and click on the particular project name. On the left side of the screen, a tab bar opens. Choose <strong>Constraints</strong>. You can now choose a constraint file by clicking on <strong>Choose Files</strong>. Then, click on <strong>Import</strong>. Upon import, WebAnno checks if the constraints file is well formed. If they conform to the rules of writing constraints, the constraints are applied.</p>
</div>
</div>
<div class="sect2">
<h3 id="_guidelines"><a class="anchor" href="#_guidelines"></a>Guidelines</h3>
<div class="paragraph">
<p>To add or delete guidelines, which will be accessible by users in the project, you have to select the tab <strong>Guidelines</strong>. Two new frames will be displayed.
To upload guidelines, click on <strong>Choose files</strong> in the first frame  <strong>Add guideline document</strong>, select a file from your local disc and then click <strong>Import guidelines</strong>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project9.jpg" alt="project9">
</div>
</div>
<div class="paragraph">
<p>Uploaded guidelines are displayed in the second frame  <strong>Guideline documents</strong>.
To delete a guideline document, click on it and then on <strong>Delete</strong> in the right lower corner of the frame.</p>
</div>
</div>
<div class="sect2">
<h3 id="_import"><a class="anchor" href="#_import"></a>Import</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>administrators</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Projects are associated with the accounts of users that act as project managers, annotators, or
curators. When importing a previously exported project, you can choose to automatically <strong>generate
missing users</strong> (enabled by default). If this option is disabled, projects still maintain their
association to users by name. If the respective user accounts are created manually after the import,
the users will start showing up in the projects.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Generated users are disabled and have no password. They must be explicitly enabled and a
      password must be set before the users can log in again.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_export_2"><a class="anchor" href="#_export_2"></a>Export</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/project_export.jpg" alt="project export">
</div>
</div>
<div class="paragraph">
<p>WebAnno offers two modes of exporting projects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Export the whole project</strong> for the purpose of creating a backup, of migrating it to a new WebAnno version, of migrating to a different WebAnno instance, or simply in order to reimport it as a duplicate copy.</p>
</li>
<li>
<p><strong>Export curated documents</strong> for the purpose of getting an easy access to the final annotation results. If you do not have any curated documents in your project, this export option is not offered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The format of the exported annotations is selected using the <strong>Format</strong> drop-down field. When <strong>AUTO</strong>
is selected, the file format corresponds to the format of the source document. If WebAnno has not
write support for the source format, the file is exported in the WebAnno TSV format instead.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Do not leave the export page after initiating an export before the progress bar is
           complete or your WebAnno instance can become locked until it is restarted!
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Some browsers automatically extract ZIP files into a folder after the download. Zipping this
      folder and trying to re-import it into WebAnno will generally not work because the process
      introduces an additional folder within the archive and WebAnno is unable to handle that. The
      best option is to disable the automatic extraction in your browser. E.g. in Safari, go to
      <strong>Preferences</strong> &#8594; <strong>General</strong> and disable the setting <strong>Open "safe" files after downloading</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When exporting a whole project, the structure of the exported ZIP file is as follows:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>&lt;project ID&gt;.json</strong> - project metadata file</p>
</li>
<li>
<p><strong>annotation</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;source document name&gt;</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;user ID&gt;.XXX</strong> - file representing the annotations for this user in the selected format.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>annotation_ser</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;source document name&gt;</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;user ID&gt;.ser</strong> - serialized CAS file representing the annotations for this user</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>curation</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;source document name&gt;</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>CURATION_USER.XXX</strong> - file representing the state of curation in the selected format.</p>
</li>
<li>
<p><strong>CORRECTION_USER.XXX</strong> - <em>correction</em> project: original document state, <em>automation</em> project
automatically generated suggestions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>curation_ser</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;source document name&gt;</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>CURATION_USER.ser</strong> - serialized UIMA CAS representing the state of curation</p>
</li>
<li>
<p><strong>CORRECTION_USER.ser</strong> - <em>correction</em> project: original document state, <em>automation</em> project
automatically generated suggestions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>log</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;project ID&gt;.log</strong> - project log file</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>source</strong> - folder containing the original source files</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The files under <code>annotation</code> and <code>curation</code> are provided for convenience only. They are
      ignored upon import.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Currently, WebAnno does not allow the user to choose a specific format for bulk-exporting annotations. However, <a href="https://groups.google.com/forum/#!msg/webanno-user/X3ShaFPXQT0/PnBzpPdXrIgJ">this mailing list post</a> describes how <a href="https://code.google.com/p/dkpro-core-asl/">DKPro Core</a> can be used to transform the UIMA CAS formats into alternative formats.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_constraints"><a class="anchor" href="#sect_constraints"></a>Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Constraints reorder the choice of tags based on the context of an annotation. For instance, for a
given lemma, not all possible part-of-speech tags are sensible. Constraint rules can be set up to
reorder the choice of part-of-speech tags such that the relevant tags are listed first. This speeds
up the annotation process as the annotator can choose from the relevant tags more conveniently.</p>
</div>
<div class="paragraph">
<p>The choice of tags is not limited, only the order in which they are presented to the annotator. Thus, if
the project manager has forgotten to set up a constraint or did possible not consider an oddball case,
the annotator can still make a decision.</p>
</div>
<div class="paragraph">
<p>A <strong>constraint set</strong> consists of two components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>import statement</p>
</li>
<li>
<p>scopes</p>
</li>
<li>
<p>Import statements* are composed in the following way:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">import &lt;fully_qualified_name_of_layer&gt; as &lt;shortName&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is necessary to declare short names for all fully qualified names because only short names can be used when writing a constraint rule. Short names cannot contain any dots or special characters, only letters, numbers, and the underscore.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are not sure what the fully qualified name of a layer is, you can look it up going to <strong>Layers</strong> in <strong>Project settings</strong>. Click on a particular layer and you can view the fully qualified name under <strong>Technical Properties</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Scopes</strong> consist of a <strong>scope name</strong> and one or more <strong>rules</strong> that refer to a particular annotation layer and define restrictions for particular conditions. For example, it is possible to reorder the applicable tags for a POS layer, based on what kind of word the annotator is focusing on.</p>
</div>
<div class="paragraph">
<p>While scope names can be freely chosen, scope rules have a fixed structure. They consist of <strong>conditions</strong> and <strong>restrictions</strong>, separated by an arrow symbol (<code>-&gt;</code>).
Conditions consist of a <strong>path</strong> and a <strong>value</strong>, separated by an equal sign (<code>=</code>). Values always have to be embraced by double-quotes. Multiple conditions in the same rule are connected via the <code>&amp;</code>-operator, multiple restrictions in the same rule are connected via the <code>|</code>-operator.</p>
</div>
<div class="paragraph">
<p>Typically a rules syntax is</p>
</div>
<div class="listingblock">
<div class="title">Single constraint rule</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">&lt;scopeName&gt; {
  &lt;condition_set&gt; -&gt; &lt;restriction_set&gt;;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This leads to the following structure:</p>
</div>
<div class="listingblock">
<div class="title">Multiple constraint rules</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">&lt;scopeName&gt; {
  &lt;rule_1&gt;;
  ...
  &lt;rule_n&gt;;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both conditions and restrictions are composed of a <strong>path</strong> and a <strong>value</strong>. The latter is always enclosed in double quotes.</p>
</div>
<div class="listingblock">
<div class="title">Structure of conditions and restrictions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">&lt;path&gt;=&quot;&lt;value&gt;&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <strong>condition</strong> is a way of defining whether a particular situation in WebAnno is based on annotation layers and features in it.</p>
</div>
<div class="paragraph">
<p>A <strong>condition set</strong> consists of one or more conditions. They are connected with logical AND as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">&lt;condition&gt; &amp; &lt;condition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <strong>restriction set</strong> defines a set of restrictions which can be applied if a particular condition set is evaluated to true. As multiple restrictions inside one rule are interpreted as conjunctions, they are separated by the <code>|</code>-operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">&lt;restriction&gt; | &lt;restriction&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <strong>path</strong> is composed of one or more steps, separated by a dot. A <strong>step</strong> consists of a <strong>feature selector</strong> and a <strong>type selector</strong>.
<strong>Type selectors</strong> are only applicable while writing the condition part of a rule. They comprise a <strong>layer operator</strong> <code>@</code> followed by the type (Lemma, POS, etc).
<strong>Feature selectors</strong> consist of a feature name, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">pos.PosValue</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Navigation across layers</strong> is possible via</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">@&lt;shortLayerName&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hereby all annotations of type <code>&lt;shortLayerName&gt;</code> at the same position as the current context are found.</p>
</div>
<div class="sect2">
<h3 id="_conditional_features"><a class="anchor" href="#_conditional_features"></a>Conditional features</h3>
<div class="paragraph">
<p>Constraints can be used to set up conditional features, that is features that only become available
in the UI if another feature has a specific value. Let&#8217;s say that for example you want to annotate
events and only <strong>causing</strong> events should additionally offer a <strong>polarity</strong> feature, while for <strong>caused</strong>
events, there should be no way to select a polarity.</p>
</div>
<div class="paragraph">
<p>Sticking with the example of annotating events, conditional features can be set up as following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Go to the <strong>Layer</strong> tab of the project settings</p>
</li>
<li>
<p>Create a new tagset called <strong>Event category</strong> and add the tags <strong>causing</strong> and <strong>caused</strong></p>
</li>
<li>
<p>Create a new tagset called <strong>Event polarity</strong> and add the tags <strong>positive</strong> and <strong>negative</strong></p>
</li>
<li>
<p>Create a new span layer called <strong>Event</strong></p>
</li>
<li>
<p>Add a string feature called <strong>category</strong> and assign the tagset <strong>Event category</strong></p>
</li>
<li>
<p>Save the changes to the <strong>category</strong> feature</p>
</li>
<li>
<p>Add a string feature called <strong>polarity</strong> and assign the tagset <strong>Event polarity</strong></p>
</li>
<li>
<p>Enabled the checkbox <strong>Hide Un-constraint feature</strong> on the <strong>polarity</strong> feature</p>
</li>
<li>
<p>Save the changes to the <strong>polarity</strong> feature</p>
</li>
<li>
<p>Create a new text file called <code>constraints.txt</code> with the following contents
.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>import webanno.custom.Event as Event;

Event {
  category="causing" -&gt; polarity="positive" | polarity="negative";
}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Import <code>constraints.txt</code> in the tab <strong>Constraints</strong> in the project settings.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you now annotate an <strong>Event</strong> in this project, then the <strong>polarity</strong> feature is only visible and
editable if the <strong>category</strong> of the annotation is set to <strong>causing</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is important that both of the features have tagsets assigned - otherwise the conditional
      effect will not take place.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_constraints_for_slot_features"><a class="anchor" href="#_constraints_for_slot_features"></a>Constraints for slot features</h3>
<div class="paragraph">
<p>Constraints can be applied to the roles of slot features. This is useful, e.g. when annotating predicate/argument structures where specific predicates can only have certain arguments.</p>
</div>
<div class="paragraph">
<p>Consider having a span layer <code>SemPred</code> resembling a semantic predicate and bearing a slot feature <code>arguments</code> and a string feature <code>senseId</code>. We want to restrict the possible argument roles based on the lemma associated with the predicate. The first rule in the following example restricts the <code>senseId</code> depending on the value of a <code>Lemma</code> annotation at the same position as the <code>SemPred</code> annotation. The second rule then restricts the choice of roles for the arguments based on the <code>senseId</code>.</p>
</div>
<div class="paragraph">
<p>Note that some role labels are marked with the flag <code>(!)</code>. This is a special flag for slot features and indicates that slots with these role labels should be automatically displayed in the UI ready to be filled. This should be used for mandatory or common slots and saves time as the annotator does not have to manually create the slots before filling them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">SemPred {
  // Rule 1
  @Lemma.value = &quot;ask&quot; -&gt; senseId = &quot;Questioning&quot; | senseId = &quot;Request&quot; | senseId = &quot;XXX&quot;;
  // .. other lemmata
  // Rule 2
  senseId = &quot;Questioning&quot; -&gt;
    // core roles
    arguments.role = &quot;Addressee&quot; (!) | arguments.role = &quot;Message&quot; (!) | arguments.role = &quot;Speaker&quot; (!) |
    // non-core roles
    arguments.role = &quot;Time&quot; | arguments.role = &quot;Iterations&quot;;
  // .. other senses
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_constraints_language_grammar"><a class="anchor" href="#_constraints_language_grammar"></a>Constraints language grammar</h3>
<div class="listingblock">
<div class="title">Constraints language grammar</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">// Basic structure ---------------------------------------
&lt;file&gt;            ::= &lt;import&gt;* | &lt;scope&gt;*
&lt;scope&gt;           ::= &lt;shortLayerName&gt; &quot;{&quot; &lt;ruleset&gt; &quot;}&quot;
&lt;ruleset&gt;         ::= &lt;rule&gt;*
&lt;import&gt;          ::= &quot;import&quot; &lt;qualifiedLayerName&gt;
                      &quot;as&quot; &lt;shortLayerName&gt;
&lt;rule&gt;            ::= &lt;conds&gt; &quot;-&gt;&quot; &lt;restrictions&gt; &quot;;&quot;

// Conditions --------------------------------------------
&lt;conds&gt;           ::= &lt;cond&gt; | &lt;cond&gt; &quot;&amp;&quot; &lt;conds&gt;
&lt;cond&gt;            ::= &lt;path&gt; &quot;=&quot; &lt;value&gt;
&lt;path&gt;            ::= &lt;featureName&gt; | &lt;step&gt; &quot;.&quot; &lt;path&gt;
&lt;step&gt;            ::= &lt;featureName&gt; | &lt;layerSelector&gt;
&lt;layerSelector&gt;   ::= &lt;layerOperator&gt;? &lt;shortLayerName&gt;
&lt;layerOperator&gt;   ::= &quot;@&quot; // select annotation in layer X

// Restrictions ------------------------------------------
&lt;restrictions&gt;    ::= &lt;restriction&gt; |
                      &lt;restriction&gt; &quot;|&quot; &lt;restrictions&gt;
&lt;restriction&gt;     ::= &lt;restrictionPath&gt; &quot;=&quot; &lt;value&gt;
                      ( &quot;(&quot; &lt;flags&gt; &quot;)&quot; )
&lt;restrictionPath&gt; ::= &lt;featureName&gt; |
                      &lt;restrictionPath&gt; &quot;.&quot; &lt;featureName&gt;
&lt;flags&gt;           ::= &quot;!&quot; // core role</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_users"><a class="anchor" href="#sect_users"></a>User Management</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This functionality is only available to <strong>administrators</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After selecting this functionality, a frame which shows all users is displayed. By selecting a user, a frame is displayed on the right.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./user-guide/images/manage_users.jpg" alt="manage users">
</div>
</div>
<div class="paragraph">
<p>Now you may change his role or password, specify  an e-mail address and dis- or enable his account by placing the tick.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Disabling an account prevents the user from logging in. The user remains associated with any
      projects and remains visible in on the <a href="#sect_monitoring">Monitoring</a> page.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To create a new user, click on <strong>Create</strong> in the left frame. This will display a similar frame as the one described in the last paragraph. Here you have to give a login-name to the new user.</p>
</div>
<div class="paragraph">
<p>In both cases, do not forget to save your changes by pressing the <strong>Save</strong> button.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User roles</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Role</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>User.</strong> Required to log in to the application. Removal of this role from an account will prevent
  login even for users that additionally hold the ROLE_ADMIN!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_ADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Administrator.</strong> Can manage users and has access to all other functionalities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_PROJECT_CREATOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Project creator.</strong> Can create new projects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_REMOTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Remote API access.</strong> Currently experimental and undocumented. Do not use.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_formats"><a class="anchor" href="#sect_formats"></a>Formats</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 18. Supported annotation formats</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Read</th>
<th class="tableblock halign-left valign-top">Write</th>
<th class="tableblock halign-left valign-top">Custom Layers</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.cnts.ua.ac.be/conll2000/chunking/">CoNLL 2000</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POS, chunks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.cnts.ua.ac.be/conll2002/ner/">CoNLL 2002</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Named entities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://ilk.uvt.nl/conll/">CoNLL 2006</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lemma, POS, dependencies (basic)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://ufal.mff.cuni.cz/conll2009-st/task-description.html">CoNLL 2009</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lemma, POS, dependencies (basic)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://universaldependencies.org/format.html">CoNLL-U</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lemma, POS, dependencies (basic &amp; enhanced), surface form</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plain text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No annotations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://weblicht.sfs.uni-tuebingen.de/weblichtwiki/index.php/The_TCF_Format">TCF</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lemma, POS, dependencies (basic), coreference, named entities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEI CPH dialect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebAnno TSV 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebAnno TSV 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">token, multiple token, and arc annotations supported. No chain annotation is supported. no sub-token annotation is supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sect_webannotsv">WebAnno TSV 3</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://uima.apache.org/d/uimaj-2.8.1/references.html#ugr.ref.compress:">Binary</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIMA Binary CAS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://uima.apache.org/d/uimaj-2.8.1/references.html#ugr.ref.xmi">XMI</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UIMA XMI CAS</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sect_webannotsv"><a class="anchor" href="#sect_webannotsv"></a>WebAnno TSV 3.2 File format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we will discuss the WebAnno TSV (Tab Separated Value) file format version 3.2.
The format is similar to the CoNNL file formats with specialized additions to the header and column
representations. The file format inhabits a header and a body section. The <strong>header</strong> section
present information about the different types of annotation layers and features used in the file.
While importing the WebAnno TSV file, the specified headers should be first created in to the
running WebAnno project. Otherwise, the importing of the file will not be possible.</p>
</div>
<div class="paragraph">
<p>The <strong>body</strong> section of the TSV file presents the document and all the associated annotations
including sentence and token annotations.</p>
</div>
<div class="sect2">
<h3 id="_encoding_and_offsets"><a class="anchor" href="#_encoding_and_offsets"></a>Encoding and Offsets</h3>
<div class="paragraph">
<p>TSV files are always encoded in UTF-8. However, the offsets used in the TSV file are based on
UTF-16. This is important when using TSV files with texts containing e.g. Emojis or some modern
non-latin Asian, Middle-eastern and African scripts.</p>
</div>
<div class="paragraph">
<p>WebAnno is implemented in Java. The Java platform internally uses a UTF-16 representation for
text. For this reason, the offsets used in the TSV format currently represent offsets of the 16bit
units in UTF-16 strings. This is important if your text contains Unicode characters that cannot
be represented din 16bit and which thus require two 16bit units. For example a token represented
by the Unicode character  (U+1F60A) requires two 16bit units. Hence, the offset count increased
by 2 for this character. So Unicode characters starting at U+10000 increase the offset count by 2.</p>
</div>
<div class="listingblock">
<div class="title">Example: TSV sentence containing a Unicode character from the Supplementary Planes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#Text=I like it  .
1-1 0-1 I _
1-2 2-6 like  _
1-3 7-9 it  _
1-4 10-12   *
1-5 13-14 . _</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Since the character offsets are based on UTF-16 and the TSV file itself is encoded in UTF-8,
      first the text contained in the file needs to be transcoded from UTF-8 into UTF-16 before the offsets
      can be applied. The offsets cannot be used for random access to characters directly in the TSV file.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_file_header"><a class="anchor" href="#_file_header"></a>File Header</h3>
<div class="paragraph">
<p>WebAnno TSV 3.2 file starts with the following header marker</p>
</div>
<div class="listingblock">
<div class="title">Example: format in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#FORMAT=WebAnno TSV 3.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Layers are marked by the <code>#</code> character followed by <code>T_SP=</code> for <strong>span types</strong> (including <strong>slot features</strong>), <code>T_CH=</code> for <strong>chain layers</strong>, and <code>T_RL=</code> for <strong>relation layers</strong>. Every layer is written in new line, followed by the features in the layer.
If all layer type exists, first, all the span layers will be written, then the chain layer, and finally the relation layers.
Features are separated by the <code>|</code> character and only the short name of the feature is provided.</p>
</div>
<div class="listingblock">
<div class="title">Example: Span layer with simple features in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=webanno.custom.Pred|bestSense|lemmaMapped|senseId|senseMapped</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here the layer name is <strong>webanno.custom.Pred</strong> and the features are named <strong>bestSense</strong>, <strong>lemmaMapped</strong>, <strong>senseId</strong>, <strong>senseMapped</strong>.
Slot features start with a prefix <code>ROLE_</code> followed by the name of the role and the link. The role feature name and the link feature name are separated by the <code>_</code> character.</p>
</div>
<div class="paragraph">
<p>The target of the slot feature always follows the role/link name</p>
</div>
<div class="listingblock">
<div class="title">Example: Span layer with slot features in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=webanno.custom.SemPred|ROLE_webanno.custom.SemPred:RoleSet_webanno.custom.SemPredRoleSetLink|uima.tcas.Annotation|aFrame</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here the name of the role is <strong>webanno.custom.SemPred:RoleSet</strong> and the name of the role link is <strong>webanno.custom.SemPredRoleSetLink</strong> and the target type is <strong>uima.tcas.Annotation</strong>.</p>
</div>
<div class="paragraph">
<p>Chain layers will have always two features, <strong>referenceType</strong> and <strong>referenceRelation</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Example: Chain layers in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_CH=de.tudarmstadt.ukp.dkpro.core.api.coref.type.CoreferenceLink|referenceType|referenceRelation</code></pre>
</div>
</div>
<div class="paragraph">
<p>Relation layers will come at last in the list and the very last entry in the features will be the type of the base (governor or dependent) annotations with a prefix <code>BT_</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example: Relation layers in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_RL=de.tudarmstadt.ukp.dkpro.core.api.syntax.type.dependency.Dependency|DependencyType|BT_de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the relation type <code>de.tudarmstadt.ukp.dkpro.core.api.syntax.type.dependency.Dependency</code> has a feature <code>DependencyType</code> and the relation is between a base type of <code>de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_file_body_annotations"><a class="anchor" href="#_file_body_annotations"></a>File Body / Annotations</h3>
<div class="paragraph">
<p>In this section we discuss the different representations of texts and annotation in WebAnno TSV3format</p>
</div>
<div class="sect3">
<h4 id="_reserved_characters"><a class="anchor" href="#_reserved_characters"></a>Reserved Characters</h4>
<div class="paragraph">
<p>Reserved characters have a special meaning in the TSV format and must be are escaped with the <strong>backslash</strong> (<code>\</code>) character if they appear in text or feature values. Reserved characters are the following:</p>
</div>
<div class="listingblock">
<div class="title">Reserved Characters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">\,[,],|,_,-&gt;,;,\t,\n,*</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The way that TSV is presently defined/implemented, it kind of considers <code>-&gt;</code> as a single
      "character"&#8230;&#8203; and it is also escaped as a single unit, i.e. <code>-&gt;</code> becomes <code>\-&gt;</code>. It is something to
      be addressed in a future iteration of the format.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_sentence_representation"><a class="anchor" href="#_sentence_representation"></a>Sentence Representation</h4>
<div class="paragraph">
<p>Sentence annotations are presented following the text marker <code>#Text=</code>, before the token
annotations. All text given here is inside the sentence boundaries.</p>
</div>
<div class="listingblock">
<div class="title">Example: Original text sections</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#Text=Bell , based in Los Angeles , makes and distributes electronic , computer and building products .</code></pre>
</div>
</div>
<div class="paragraph">
<p>The text of an imported document is reconstructed from the sentence annotations. Additionally,
the offset information of the sentence tokens are taken into account to determine whether padding
needs to be added between sentences. The TSV format can presently not record text that occurs in
between two sentences.</p>
</div>
<div class="paragraph">
<p>If a sentence spans multiple lines, the text is split at the line feed characters (ASCII 12) and
multiple <code>#Text=</code> lines are generated. Note that carriage return characters (ASCII 13) are kept
as escaped characters (<code>\r</code>).</p>
</div>
<div class="listingblock">
<div class="title">Example: Original multi-line text</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#Text=Bell , based in Los Angeles , makes and distributes
#Text=electronic , computer and building products .</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_token_and_sub_token_annotations"><a class="anchor" href="#_token_and_sub_token_annotations"></a>Token and Sub-token Annotations</h4>
<div class="paragraph">
<p>Tokens represent a span of text within a sentence. Tokens cannot overlap, although then can be
directly adjacent (i.e. without any whitespace between them). The start offset of the first
character of the first token corresponds to the start of offset of the sentence.</p>
</div>
<div class="paragraph">
<p>Token annotation starts with a <code>sentence-token</code> number marker followed by the begin-end offsets
and the token itself, separated by a TAB characters.</p>
</div>
<div class="listingblock">
<div class="title">Example: Token position</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-2        4-8        Haag</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>1</code> indicates the sentence number, <code>2</code> indicates the token number (here, the second token
in the first sentence) and <code>4</code> is the begin offset of the token and <code>8</code> is the end offset of the
token while <code>Haag</code> is the token.</p>
</div>
<div class="paragraph">
<p>Sub-token representations are affixed with a <code>.</code> and a number starts from 1 to N.</p>
</div>
<div class="listingblock">
<div class="title">Example: Sub-token positions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-3        9-14        plays
1-3.1        9-13        play
1-3.2        13-14        s</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the sub-token <code>play</code> is indicated by sentence-token number <code>1-3.1</code> and the sub-token <code>s</code> is
indicated by <code>1-3.2</code>.</p>
</div>
<div class="paragraph">
<p>While tokens may not overlap, sub-tokens may overlap.</p>
</div>
<div class="listingblock">
<div class="title">Example: Overlapping sub-tokens</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-3 9-14  plays
1-3.1 9-12  pla
1-3.2 11-14 ays</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_span_annotations"><a class="anchor" href="#_span_annotations"></a>Span Annotations</h4>
<div class="paragraph">
<p>For every features of a span Annotation, annotation value will be presented in the same row as the token/sub-token annotation, separated by a TAB character. If there is no annotation for the given span layer, a <code>_</code> character is placed in the column. If the feature has no/null annotation or if the span layer do not have a feature at all, a <code>*</code> character represents the annotation.</p>
</div>
<div class="listingblock">
<div class="title">Example: Span layer declaration in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS|PosValue
#T_SP=webanno.custom.Sentiment|Category|Opinion</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Span annotations in file body</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-9        36-43        unhappy        JJ        abstract        negative</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, the first annotation at column 4, <code>JJ</code> is avalue for a feature <strong>PosValue</strong> of the layer <strong>de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS</strong>. For the two features of the layer <strong>webanno.custom.Sentiment</strong> (<strong>Category</strong> and <strong>Opinion</strong>), the values <code>abstract</code> and <code>negative</code> are
presented at column 5 and 6 resp.</p>
</div>
</div>
<div class="sect3">
<h4 id="_disambiguation_ids"><a class="anchor" href="#_disambiguation_ids"></a>Disambiguation IDs</h4>
<div class="paragraph">
<p>Within a single line, an annotation can be uniquely identified by its type and stacking index.
However, across lines, annotation cannot be uniquely identified easily. Also, if the exact type
of the referenced annotation is not known, an annotation cannot be uniquely identified. For this
reason, disambiguation IDs are introduced in potentially problematic cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stacked annotations - if multiple annotations of the same type appear in the same line</p>
</li>
<li>
<p>multi-unit annotations - if an annotations spans multiple tokens or sub-tokens</p>
</li>
<li>
<p>un-typed slots - if a slot feature has the type <code>uima.tcas.Annotation</code> and may thus refer to
any kind of target annotation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The disambiguation ID is attached as a suffix <code>[N]</code> to the annotation value. Stacked annotations are separated by <code>|</code> character.</p>
</div>
<div class="listingblock">
<div class="title">Example: Span layer declaration in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS|PosValue
#T_SP=de.tudarmstadt.ukp.dkpro.core.api.ner.type.NamedEntity|value</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Multi-token span annotations and stacked span annotations</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-1        0-3        Ms.        NNP        PER[1]|PERpart[2]
1-2        4-8        Haag        NNP        PER[1]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, <code>PER[1]</code> indicates that token <code>1-1</code> and <code>1-2</code> have the same annotation (multi-token annotations) while <code>PERpart[2]</code> is the second (stacked) annotation on token  <code>1-1</code> separated by <code>|</code> character.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On chain layers, the number in brackets is <strong>not</strong> a disambiguation ID but rather a chain ID!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_slot_features"><a class="anchor" href="#_slot_features"></a>Slot features</h4>
<div class="paragraph">
<p>Slot features and the target annotations are separated by TAB character (first the feature column then the target column follows). In the target column, the <code>sentence-token</code> id is recorded where the feature is drawn.</p>
</div>
<div class="paragraph">
<p>Unlike other span layer features (which are separated by <code>|</code> character), multiple annotations for a slot feature are separated by the <code>;</code> character.</p>
</div>
<div class="listingblock">
<div class="title">Example: Span layer declaration in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=webanno.custom.Frame|FE|ROLE_webanno.custom.Frame:Roles_webanno.custom.FrameRolesLink|webanno.custom.Lu
#T_SP=webanno.custom.Lu|luvalue</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Span annotations and slot features</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">2-1        27-30        Bob        _        _        _        bob
2-2        31-40        auctioned        transaction        seller;goods;buyer        2-1;2-3[4];2-6
2-3        41-44        the        _        _        _        clock[4]
2-4        45-50        clock        _        _        _        clock[4]
2-5        52-54        to        _        _        _        _
2-6        55-59        John        _        _        _        john
2-7        59-60        .        _        _        _        _</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, for example, at token <code>2-2</code>, we have three slot annotations for feature <code>Roles</code> that are <code>seller</code>, <code>goods</code>, and <code>buyer</code>. The targets are on token <code>2-1 `, `2-3[4]</code>, and <code>2-6</code> respectively which are on annotations of the layer <code>webanno.custom.Lu</code> which are <code>bob</code>, <code>clock</code> and <code>john</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_chain_annotations"><a class="anchor" href="#_chain_annotations"></a>Chain Annotations</h4>
<div class="paragraph">
<p>In the Chain annotation, two columns (TAB separated) are used to represent the <code>referenceType</code> and the <code>referenceRelation</code>. A chain ID is attached to the <code>referenceType</code> to distinguish to which of the chains the annotation belongs. The <code>referenceRelation</code> of the chain is represented by the relation value followed by <code>-&gt;</code> and followed by the <code>CH-LINK</code> number where <code>CH</code> is the chain number and <code>LINK</code> is the link number (the order the chain).</p>
</div>
<div class="listingblock">
<div class="title">Example: Chain layer declaration in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_CH=de.tudarmstadt.ukp.dkpro.core.api.coref.type.CoreferenceLink|referenceType|referenceRelation</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Chain annotations</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-1        0-2        He        pr[1]        coref-&gt;1-1
1-2        3-7        shot        _        _
1-3        8-15        himself        pr[1]        coref-&gt;1-2
1-4        16-20        with        _        _
1-5        21-24        his        pr[1]        *-&gt;1-3
1-6        25-33        revolver        _        _
1-7        33-34        .        _        _</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, token <code>1-3</code> is marked as <code>pr[1]</code> which indicates that the <strong>referenceType</strong> is <code>pr</code> and it is part of the chain with the ID <code>1</code>. The relation label is <code>coref</code> and with the <code>CH-LINK</code> number <code>1-2</code> which means that it belongs to chain <code>1</code> and this is the second link in the chain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_relation_annotations"><a class="anchor" href="#_relation_annotations"></a>Relation Annotations</h4>
<div class="paragraph">
<p>Relation annotations comes to the last columns of the TSV file format. Just like the span annotations, every feature of the relation layers are represented in a separate TAB. Besides, one extra column (after all feature values) is used to write the token id from which token/sub-token this arc of a relation annotation is drawn.</p>
</div>
<div class="listingblock">
<div class="title">Example: Span and relation layer declaration in file header</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#T_SP=de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS|PosValue
#T_RL=de.tudarmstadt.ukp.dkpro.core.api.syntax.type.dependency.Dependency|DependencyType|BT_de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Span and relation annotations</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">1-1        0-3        Ms.        NNP        SUBJ        1-3
1-2        4-8        Haag        NNP        SBJ        1-3
1-3        9-14        plays        VBD        P|ROOT        1-5|1-3
1-4        15-22        Elianti        NNP        OBJ        1-3
1-5        23-24        .        .        _        _</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example (say token <code>1-1</code>), column 4 (<code>NNP</code>) is a value for the feature <code>PosValue</code> of the <strong>de.tudarmstadt.ukp.dkpro.core.api.lexmorph.type.pos.POS</strong> layer. Column 5 (<code>SUBJ</code>) records the value for the feature <strong>DependencyType</strong> of the <strong>de.tudarmstadt.ukp.dkpro.core.api.syntax.type.dependency.Dependency</strong> relation layer, where as column 6 (<code>1-3</code>) shows from which governor (<code>VBD</code>) the dependency arc is drawn.</p>
</div>
<div class="paragraph">
<p>For relations, a single disambiguation ID is not sufficient. If a relation is ambiguous, then
the source ID of the relation is followed by the source and target disambiguation ID separated
by an underscore (<code>_</code>). If only one of the relation endpoints is ambiguous, then the other one
appears with the ID <code>0</code>. E.g. in the example below, the annotation on token <code>1-5</code> is ambiguous,
but the annotation on token <code>1-1</code> is not.</p>
</div>
<div class="listingblock">
<div class="title">Example: Disambiguation IDs in relations</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">#FORMAT=WebAnno TSV 3.2
#T_SP=de.tudarmstadt.ukp.dkpro.core.api.ner.type.NamedEntity|value
#T_RL=webanno.custom.Relation|value|BT_de.tudarmstadt.ukp.dkpro.core.api.ner.type.NamedEntity


#Text=This is a test .
1-1 0-4 This  * _ _
1-2 5-7 is  _ _ _
1-3 8-9 a _ _ _
1-4 10-14 test  _ _ _
1-5 15-16 . *[1]|*[2] * 1-1[0_1]</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect_troubleshooting"><a class="anchor" href="#sect_troubleshooting"></a>Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the tool is kept open in the browser, but not used for a long period of time, you will have to
log in again. For this, press the reload button of your browser.</p>
</div>
<div class="paragraph">
<p>If the tool does not react for more than 1 minute, please also reload and re-login.</p>
</div>
<div class="paragraph">
<p>We are collecting error reports to improve the tool. For this, the error must be reproducible:
If you find a way how to produce the error, please open an issue and describe it.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 3.3.3<br>
Last updated 2018-01-01 12:49:34 CET
</div>
</div>
</body>
</html>